var mongodb = require("mongodb");
var MongoClient = mongodb.MongoClient;

module.exports = {
    db: undefined,
    init: function (option) {
        
        // Setup config
        this.config = option;
        this.url = "mongodb://" + this.config.host + ":" + this.config.port + "/" + this.config.database;
    },
    connect: function () {
        
        // Create this reference
        var self = this;

        // Create the db connection
        MongoClient.connect(this.url, function(err, db) {
            assert.equal(null, err);
            self.db = db;
        });
    }
}
